# 📖 Foundry & Viem 学习路径索引

**基于 Story 1.7 实战经验的完整学习体系**

---

## 🎯 学习目标

通过系统化的学习，你将能够：

- ✅ 独立开发和部署智能合约
- ✅ 使用 Foundry 进行测试和调试
- ✅ 在后端使用 Viem 与区块链交互
- ✅ 在前端使用 Wagmi 构建 DApp
- ✅ 排查和解决常见开发问题
- ✅ 实现完整的 Web3 应用功能

---

## 📚 文档结构

### 1️⃣ 核心开发指南（必读）

**[FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md](./FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md)** ⭐⭐⭐⭐⭐

**阅读时间**: 45-60 分钟  
**难度**: 中级

**内容**:

- 开发架构概览
- Foundry 核心概念和命令
- Viem 核心概念和 API
- 完整开发流程（Story 1.7 示例）
- 常见问题和解决方案
- 最佳实践和调试技巧
- 学习资源和参考链接

**适合**:

- 刚接触 Foundry 和 Viem 的开发者
- 需要系统了解工具链的团队成员
- 想要理解项目技术架构的人

**学习路径**:

1. 先阅读"开发架构概览"了解全貌
2. 深入学习"Foundry 核心概念"
3. 深入学习"Viem 核心概念"
4. 跟随"完整开发流程"实践
5. 熟记"常见问题"和"最佳实践"

---

### 2️⃣ 实战练习（强烈推荐）

**[FOUNDRY-VIEM-HANDS-ON-EXERCISES.md](./FOUNDRY-VIEM-HANDS-ON-EXERCISES.md)** ⭐⭐⭐⭐⭐

**完成时间**: 3-4 小时  
**难度**: 初级到高级（递进式）

**内容**:

- 10 个递进式练习
- 从环境验证到完整 E2E 功能
- 每个练习包含：目标、任务、提示、验证
- 覆盖所有核心技能点

**练习清单**:

1. ⭐ 环境验证和诊断
2. ⭐ Cast 命令行工具
3. ⭐⭐ 读取智能合约
4. ⭐⭐ 写入智能合约
5. ⭐⭐ Viem Public Client（后端）
6. ⭐⭐⭐ Viem Wallet Client（后端）
7. ⭐⭐⭐ Wagmi Hooks（前端读取）
8. ⭐⭐⭐ Wagmi Hooks（前端写入）
9. ⭐⭐⭐ 监听合约事件
10. ⭐⭐⭐⭐ 完整的 E2E 测试

**适合**:

- 通过动手练习巩固知识的学习者
- 需要实践经验的开发者
- 准备独立开发新功能的人

**学习路径**:

1. 按顺序完成每个练习
2. 遇到问题查阅开发指南
3. 记录每个练习的完成情况
4. 自己尝试扩展练习内容

---

### 3️⃣ 快速参考（日常使用）

**[FOUNDRY-VIEM-QUICK-REFERENCE.md](./FOUNDRY-VIEM-QUICK-REFERENCE.md)** ⭐⭐⭐⭐

**阅读时间**: 10 分钟  
**难度**: 所有级别

**内容**:

- 所有常用命令速查
- 代码片段和示例
- 类型转换和工具函数
- 项目特定配置
- 紧急救援指南

**特点**:

- 一页纸设计，方便打印
- 按类别组织，快速查找
- 包含最常用的 90% 操作
- 适合日常开发参考

**适合**:

- 所有开发者（必备）
- 需要快速查找命令的场景
- 作为备忘录使用

**使用建议**:

- 打印并贴在显示器旁边
- 保存为书签快速访问
- 遇到问题先查此文档

---

### 4️⃣ MetaMask 连接指南

**[METAMASK-ANVIL-CONNECTION-GUIDE.md](./METAMASK-ANVIL-CONNECTION-GUIDE.md)** ⭐⭐⭐⭐

**阅读时间**: 15 分钟  
**难度**: 初级

**内容**:

- 完整的 MetaMask 配置步骤
- Anvil 网络添加方法（3 种）
- 测试账户导入指南
- 详细的问题排查流程
- 技术细节和背景知识

**适合**:

- 第一次使用 Anvil 的开发者
- 遇到 MetaMask 连接问题的人
- 需要设置测试环境的新团队成员

---

**[QUICK-START-METAMASK.md](./QUICK-START-METAMASK.md)** ⭐⭐⭐

**阅读时间**: 3 分钟  
**难度**: 初级

**内容**:

- 3 分钟快速解决方案
- 一键添加网络工具
- 最常见问题的快速修复
- 简化版的连接指南

**适合**:

- 急需快速解决问题的人
- 已经有基础知识的开发者
- 作为快速参考使用

---

### 5️⃣ 问题诊断和解决

**[METAMASK-CONNECTION-ISSUE-RESOLVED.md](../METAMASK-CONNECTION-ISSUE-RESOLVED.md)** ⭐⭐⭐

**阅读时间**: 5 分钟  
**难度**: 初级

**内容**:

- Story 1.7 遇到的问题复盘
- 完整的诊断过程
- 解决方案总结
- 创建的工具列表

**适合**:

- 了解问题背景的人
- 需要解决类似问题的开发者
- 项目新成员了解历史

---

### 6️⃣ Story 1.7 相关文档

**测试指南**  
**[stories/story-1.7-testing-guide.md](./stories/story-1.7-testing-guide.md)** ⭐⭐⭐

- 完整的测试场景
- 手动测试清单
- 常见问题解答

**快速修复**  
**[stories/story-1.7-quickfix-500-error.md](./stories/story-1.7-quickfix-500-error.md)** ⭐⭐

- 500 错误的原因和解决
- Anvil 启动指南
- 服务管理说明

**完成报告**  
**[stories/STORY-1.7-COMPLETED.md](./stories/STORY-1.7-COMPLETED.md)** ⭐⭐

- 交付成果清单
- 验收标准达成情况
- 功能特性总结

---

## 🗺️ 推荐学习路径

### 路径 1: 零基础入门（完整学习）

**总时长**: 6-8 小时

1. **阅读开发指南** (60 分钟)
   - [FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md](./FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md)
2. **配置环境** (30 分钟)
   - [QUICK-START-METAMASK.md](./QUICK-START-METAMASK.md)
   - 添加 Anvil 网络到 MetaMask
   - 导入测试账户
3. **完成练习 1-5** (2 小时)
   - [FOUNDRY-VIEM-HANDS-ON-EXERCISES.md](./FOUNDRY-VIEM-HANDS-ON-EXERCISES.md)
   - 练习 1: 环境验证
   - 练习 2: Cast 命令
   - 练习 3-4: 读写合约
   - 练习 5: Viem Public Client
4. **休息和复习** (30 分钟)
   - 回顾开发指南的核心概念
   - 整理笔记和疑问
5. **完成练习 6-10** (3 小时)
   - 练习 6: Viem Wallet Client
   - 练习 7-8: Wagmi Hooks
   - 练习 9: 事件监听
   - 练习 10: E2E 测试
6. **总结和规划** (30 分钟)
   - 回顾所有学习内容
   - 准备开发下一个 Story

---

### 路径 2: 快速上手（有经验）

**总时长**: 2-3 小时

1. **快速浏览开发指南** (20 分钟)
   - 重点看"完整开发流程"章节
2. **配置环境** (10 分钟)
   - 使用 `add-anvil-network.html` 添加网络
3. **重点练习** (90 分钟)
   - 练习 1: 环境验证（必做）
   - 练习 5: Viem Public Client（后端）
   - 练习 7-8: Wagmi Hooks（前端）
   - 练习 10: E2E 测试（综合）
4. **熟悉快速参考** (10 分钟)
   - 浏览 [FOUNDRY-VIEM-QUICK-REFERENCE.md](./FOUNDRY-VIEM-QUICK-REFERENCE.md)
   - 保存为书签

---

### 路径 3: 问题驱动（遇到问题时）

**总时长**: 按需

1. **诊断问题**
   - 运行 `./diagnose-connection.sh`
2. **查找解决方案**
   - 先查 [FOUNDRY-VIEM-QUICK-REFERENCE.md](./FOUNDRY-VIEM-QUICK-REFERENCE.md) 的"常见问题"
   - 再查 [FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md](./FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md) 的详细说明
3. **深入学习**
   - 如果是知识盲区，完成相关练习
   - 如果是环境问题，查看 MetaMask 连接指南

---

## 📊 学习进度追踪

### 核心知识点检查清单

#### Foundry

- [ ] 能够编译和测试合约
- [ ] 熟悉 Cast 命令行工具
- [ ] 能够启动和配置 Anvil
- [ ] 能够部署合约到本地链
- [ ] 能够调试合约问题

#### Viem（后端）

- [ ] 理解 Public Client 和 Wallet Client 的区别
- [ ] 能够读取合约状态
- [ ] 能够发送交易修改状态
- [ ] 能够监听合约事件
- [ ] 能够处理错误和异常

#### Wagmi（前端）

- [ ] 能够配置 Wagmi 和 RainbowKit
- [ ] 能够使用 useAccount 管理钱包连接
- [ ] 能够使用 useReadContract 读取数据
- [ ] 能够使用 useWriteContract 发送交易
- [ ] 能够处理加载和错误状态

#### 综合能力

- [ ] 能够实现完整的合约交互流程
- [ ] 能够排查和解决常见问题
- [ ] 能够遵循最佳实践编码
- [ ] 能够独立开发新功能
- [ ] 能够优化 gas 消耗

### 练习完成情况

- [ ] 练习 1: 环境验证和诊断
- [ ] 练习 2: Cast 命令行工具
- [ ] 练习 3: 读取智能合约
- [ ] 练习 4: 写入智能合约
- [ ] 练习 5: Viem Public Client（后端）
- [ ] 练习 6: Viem Wallet Client（后端）
- [ ] 练习 7: Wagmi Hooks（前端读取）
- [ ] 练习 8: Wagmi Hooks（前端写入）
- [ ] 练习 9: 监听合约事件
- [ ] 练习 10: 完整的 E2E 测试

---

## 🎯 下一步行动

### 立即开始

1. **选择适合你的学习路径**（见上方）
2. **设置学习环境**
   ```bash
   cd /Users/max/code/foundry-code/foundry-trustless-ai-agent
   ./start-dev.sh
   ```
3. **打开第一份文档开始学习**

### 学习建议

- 📝 **边学边做**: 不要只看，要动手实践
- 🔄 **反复练习**: 重复练习直到熟练
- 📚 **记录笔记**: 记录重要概念和技巧
- 🤝 **寻求帮助**: 遇到问题及时查阅文档或询问
- 🎯 **设定目标**: 每次学习设定明确目标

### 进阶方向

完成基础学习后，可以：

1. **优化性能**
   - 研究 gas 优化技巧
   - 学习缓存策略
   - 实现批量操作

2. **增强安全性**
   - 学习常见安全漏洞
   - 编写更完善的测试
   - 实施最佳安全实践

3. **扩展功能**
   - 实现更复杂的合约逻辑
   - 集成更多 Web3 服务
   - 开发新的用户功能

4. **部署到测试网**
   - 配置 Arbitrum Sepolia
   - 在测试网部署和测试
   - 准备主网部署

---

## 🆘 获取帮助

### 遇到问题？

1. **运行诊断**: `./diagnose-connection.sh`
2. **查看快速参考**: [FOUNDRY-VIEM-QUICK-REFERENCE.md](./FOUNDRY-VIEM-QUICK-REFERENCE.md)
3. **搜索开发指南**: [FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md](./FOUNDRY-VIEM-DEVELOPMENT-GUIDE.md)
4. **查看 Story 1.7 文档**: 了解实际案例

### 学习资源

- 📖 [Foundry Book](https://book.getfoundry.sh/)
- 📖 [Viem Docs](https://viem.sh/)
- 📖 [Wagmi Docs](https://wagmi.sh/)
- 💬 [Foundry Discord](https://discord.gg/foundry)
- 🎥 [Foundry Tutorial](https://www.youtube.com/watch?v=uelA7U_Kzs0)

---

## 📈 学习成果

完成本学习路径后，你将能够：

✅ **独立开发** Web3 应用的完整功能  
✅ **高效使用** Foundry 和 Viem 工具链  
✅ **快速排查** 和解决开发中的问题  
✅ **遵循最佳实践** 编写高质量代码  
✅ **为项目贡献** 新功能和改进

---

**创建日期**: 2025-10-11  
**基于**: Story 1.7 实战经验  
**维护者**: James (Full Stack Developer)  
**版本**: 1.0

---

## 🎉 开始你的学习之旅！

选择一个学习路径，打开第一份文档，让我们开始吧！

记住：**最好的学习方式就是动手实践**。祝你学习愉快！🚀
